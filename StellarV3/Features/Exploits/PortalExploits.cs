using System.Collections;
using UnityEngine;

namespace StellarV3External.Features.Exploits
{
    internal class PortalExploits
    {
        public static bool portalDrop = false;
        public static Coroutine PortalCoroutine;

        public static IEnumerator PortalDrop(VRC.Player player)
        {
            if (player == null)
                yield break;

            float nextDrop = Time.realtimeSinceStartup;

            while (portalDrop && player != null)
            {
                if (Time.realtimeSinceStartup >= nextDrop)
                {
                    Vector3 portalPosition = player.transform.position;

                    SDK.Utils.PortalUtils.SpawnPortal(portalPosition, "xvye8986");

                    nextDrop = Time.realtimeSinceStartup + 0.5f;
                }
                yield return null;
            }
        }

    }
}
